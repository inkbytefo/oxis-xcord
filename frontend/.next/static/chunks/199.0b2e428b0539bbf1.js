"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{3199:function(e,a,s){s.r(a),s.d(a,{RegistrationForm:function(){return d}});var r=s(5893),t=s(7294),l=s(7066);let i={async register(e,a,s){try{return(await l.Z.post("http://localhost:3001/api/v1/auth/register",{username:e,email:a,password:s})).data}catch(e){var r,t;if(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)throw Error(e.response.data.message);throw Error("Network error occurred")}}},n=new RegExp("^".concat("(?=.*[a-z])").concat("(?=.*[A-Z])")+"".concat("(?=.*\\d)").concat("(?=.*[@$!%*?&])").concat("[A-Za-z\\d@$!%*?&]{8,}","$")),d=e=>{let{onSuccess:a}=e,[s,l]=(0,t.useState)({username:"",email:"",password:""}),[d,o]=(0,t.useState)({}),[m,c]=(0,t.useState)(!1),[u,b]=(0,t.useState)(""),p=()=>{let e={};return s.username.trim()||(e.username="Kullanıcı adı gerekli"),s.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(e.email="Ge\xe7erli bir e-posta adresi giriniz"):e.email="E-posta adresi gerekli",s.password?n.test(s.password)||(e.password="Şifre: ".concat("En az 8 karakter uzunluğunda olmalı, En az bir b\xfcy\xfck harf i\xe7ermeli, En az bir k\xfc\xe7\xfck harf i\xe7ermeli, En az bir rakam i\xe7ermeli, En az bir \xf6zel karakter i\xe7ermeli")):e.password="Şifre gerekli",o(e),0===Object.keys(e).length},h=e=>{let{name:a,value:s}=e.target;l(e=>({...e,[a]:s}))},x=async e=>{if(e.preventDefault(),b(""),p()){c(!0);try{await i.register(s.username,s.email,s.password),b("Kayıt başarılı! Giriş sayfasına y\xf6nlendiriliyorsunuz..."),setTimeout(()=>{a&&a()},2e3)}catch(e){b(e instanceof Error?e.message:"Bir hata oluştu")}finally{c(!1)}}},g="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",w="block text-gray-700 text-sm font-bold mb-2";return(0,r.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,r.jsxs)("form",{onSubmit:x,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Kayıt Ol"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"username",className:w,children:"Kullanıcı Adı"}),(0,r.jsx)("input",{type:"text",id:"username",name:"username",value:s.username,onChange:h,disabled:m,className:g}),d.username&&(0,r.jsx)("span",{className:"text-red-600 text-sm mt-1",children:d.username})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"email",className:w,children:"E-posta"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:h,disabled:m,className:g}),d.email&&(0,r.jsx)("span",{className:"text-red-600 text-sm mt-1",children:d.email})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"password",className:w,children:"Şifre"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",value:s.password,onChange:h,disabled:m,className:g}),d.password&&(0,r.jsx)("span",{className:"text-red-600 text-sm mt-1",children:d.password})]}),u&&(0,r.jsx)("div",{className:"p-3 mb-4 rounded-md text-center ".concat(u.includes("başarılı")?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:u}),(0,r.jsx)("button",{type:"submit",disabled:m,className:"w-full py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 disabled:bg-gray-400 disabled:cursor-not-allowed",children:m?"Kaydediliyor...":"Kayıt Ol"})]})})}}}]);
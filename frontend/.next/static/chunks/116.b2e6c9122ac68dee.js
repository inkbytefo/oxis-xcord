"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{116:function(e,a,r){r.r(a),r.d(a,{LoginForm:function(){return i}});var s=r(5893),t=r(7294),l=r(7066);let o={async login(e,a){try{return(await l.Z.post("http://localhost:3001/api/v1/auth/login",{email:e,password:a})).data}catch(e){var r,s;if(null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(r=s.data)||void 0===r?void 0:r.message)throw Error(e.response.data.message);throw Error("Network error occurred")}}},i=e=>{let{onLogin:a}=e,[r,l]=(0,t.useState)(""),[i,d]=(0,t.useState)(""),[n,u]=(0,t.useState)(""),[c,b]=(0,t.useState)(!1),m=()=>r?r.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?!!i&&!(i.length<6)||(u("Şifre en az 6 karakter olmalıdır"),!1):(u("Ge\xe7erli bir e-posta adresi giriniz"),!1):(u("E-posta adresi gerekli"),!1),p=async e=>{if(e.preventDefault(),u(""),m()){b(!0);try{let e=await o.login(r,i);localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),a(e.token)}catch(e){u(e instanceof Error?e.message:"Giriş sırasında bir hata oluştu")}finally{b(!1)}}},g="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100";return(0,s.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,s.jsxs)("form",{onSubmit:p,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Giriş Yap"}),n&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:n}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-bold mb-2",children:"E-posta"}),(0,s.jsx)("input",{type:"email",id:"email",value:r,onChange:e=>l(e.target.value),placeholder:"E-posta adresiniz",disabled:c,className:g})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-bold mb-2",children:"Şifre"}),(0,s.jsx)("input",{type:"password",id:"password",value:i,onChange:e=>d(e.target.value),placeholder:"Şifreniz",disabled:c,className:g})]}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75 disabled:bg-gray-400 disabled:cursor-not-allowed",children:c?"Giriş yapılıyor...":"Giriş Yap"})]})})}}}]);